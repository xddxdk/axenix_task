# Тестовое задание для компании Axenix
Автор: Поддельский Кирилл
## Чат-бот для предсказания времени и погоды
Создано два бота. 

Первый - простой бот (без памяти, шаблонные ответы, только русский язык) `SimpleBot.ipynb`

Второй - умный бот (есть память, LangChain с крупной LLM, русский/английский) `LangChainBot.ipynb`

Реализована кэш-подсистема для хранения координат городов.

Обычно реализуется на redis, но в данной работе использовал обычный sqlite.

## Работа modules
* **cache.py** - содержит три функции init_db для создания БД, get_cached_coords для извлечения координат из БД, cache_coords для внесения данных;

* **location.py** - содержит get_city_coords для получения координат через API, либо через кэш. Работает с get_cached_coords и cache_coords. Если координат нет в БД, достает через API и кэширует (cache_coords), если есть (get_cached_coords);

* **llm_parser.py** - языковая модель Qwen3/8b:free, обрабатывающая запрос пользователя, и выводящая JSON (используется только в SimpleBot, более подробно принцип работы описан в ноутбуке)

* **time.py** - содержит функцию, определяющую системное время либо время в конкретном городе.

* **weather.py** - содержит функцию, определяющую погоду по городу и дате в прошлом.

Структуру каждого модуля можно посмотреть в файлах .py

Примеры диалогов содержатся в соответствующий .ipynb

Фото, как выглядит бд после нескольких запросов:

<img width="542" height="327" alt="image" src="https://github.com/user-attachments/assets/15a4bae5-fe4c-4a2e-9bae-16b4b16042d4" />

*city_id не по порядку, так как убрал некорректные значения (эксперементировал с запросами). Вообще все работает отлично, записываются только уникальные города и только на русском языке.

